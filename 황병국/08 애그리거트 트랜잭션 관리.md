

## 선점 잠금
- **정의**: 선점 잠금(Pessimistic Lock)은 트랜잭션이 데이터를 사용하는 동안 다른 트랜잭션이 해당 데이터에 접근하지 못하도록 즉시 잠금을 거는 방식입니다.
- **구현 방법**:
  - 데이터베이스의 `SELECT ... FOR UPDATE` 구문 등으로 구현합니다.
  - 대부분의 RDBMS에서 지원합니다.
- **특징**:
  - 동시성 충돌을 원천적으로 방지할 수 있습니다.
  - 트랜잭션이 길어질수록 잠금 유지 시간이 늘어나 성능 저하, 병목 현상이 발생할 수 있습니다.
- **주의사항(교착 상태)**:
  - 여러 트랜잭션이 서로 잠금 해제를 기다리면 **교착 상태(Deadlock)**가 발생할 수 있습니다.
  - 교착 상태 예방을 위해 잠금 순서를 일관되게 하거나, 타임아웃을 설정해야 합니다.

## 비선점 잠금
- **정의**: 비선점 잠금(Optimistic Lock)은 트랜잭션이 데이터를 수정할 때 충돌을 감지하여 처리하는 방식입니다. 데이터 읽기 시에는 잠금을 걸지 않습니다.
- **구현 방법**:
  - 버전 번호(version), 타임스탬프(timestamp) 등의 필드를 두고, 갱신 시점에 값이 변경되지 않았는지 확인합니다.
  - JPA 등에서는 `@Version` 어노테이션으로 지원합니다.
- **특징**:
  - 동시성 충돌이 드물 때 성능이 좋고, 잠금에 의한 병목이 없습니다.
  - 충돌 발생 시 트랜잭션을 롤백하고 재시도해야 합니다.